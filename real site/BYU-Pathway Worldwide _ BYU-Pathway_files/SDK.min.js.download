(()=>{var f=(o,r)=>()=>(r||o((r={exports:{}}).exports,r),r.exports);var ae=f(x=>{"use strict";var P=x&&x.__assign||function(){return P=Object.assign||function(o){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(o[s]=r[s])}return o},P.apply(this,arguments)};Object.defineProperty(x,"__esModule",{value:!0});var we=function(){function o(r){this.debug=!1,this.debug=!1,this.logger=r}return o.prototype.setDebug=function(r){this.debug=r},o.prototype.log=function(r,t,i){var s,e=P(P({},i),{Event:t});this.debug&&console.log(e),(s=this.logger)===null||s===void 0||s.logClientSdkTelemetryEvent(r,e)},o}();x.default=we});var W=f(z=>{z.baseUrl="https://comms.omnichannelengagementhub.com/ams";z.sdkVersion="0.1.1-main.af545b3"});var N=f(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});var be=function(){function o(){}return o.silentError=!0,o.debug=!1,o}();J.default=be});var K=f(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});h.isReactNative=h.isNode=h.isBrowser=void 0;var ye=function(){return typeof window!="undefined"&&typeof window.document!="undefined"};h.isBrowser=ye;var me=function(){return typeof process!="undefined"&&process.versions!=null&&process.versions.node!=null};h.isNode=me;var _e=function(){return typeof navigator!="undefined"&&navigator.product=="ReactNative"};h.isReactNative=_e;h.default={isBrowser:h.isBrowser,isNode:h.isNode,isReactNative:h.isReactNative}});var Y=f(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});var X;(function(o){o.IframeLoaded="AMSIframeLoaded",o.SkypeTokenAuth="AMSSkypeTokenAuth",o.CreateObject="AMSCreateObject",o.UploadDocument="AMSUploadDocument",o.GetViewStatus="AMSGetViewStatus",o.GetView="AMSGetView",o.SendTelemetry="AMSSendTelemetry"})(X||(X={}));Q.default=X});var ue=f($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});var Z;(function(o){o.None="None",o.Request="Request",o.Response="Response"})(Z||(Z={}));$.default=Z});var le=f(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.uuidv4=void 0;var Ce=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var r=Math.random()*16|0,t=o==="x"?r:r&3|8;return t.toString(16)})};T.uuidv4=Ce});var re=f(m=>{"use strict";var H=m&&m.__assign||function(){return H=Object.assign||function(o){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(o[s]=r[s])}return o},H.apply(this,arguments)},b=m&&m.__awaiter||function(o,r,t,i){function s(e){return e instanceof t?e:new t(function(a){a(e)})}return new(t||(t=Promise))(function(e,a){function u(l){try{n(i.next(l))}catch(d){a(d)}}function c(l){try{n(i.throw(l))}catch(d){a(d)}}function n(l){l.done?e(l.value):s(l.value).then(u,c)}n((i=i.apply(o,r||[])).next())})},y=m&&m.__generator||function(o,r){var t={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},i,s,e,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(n){return function(l){return c([n,l])}}function c(n){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,s&&(e=n[0]&2?s.return:n[0]?s.throw||((e=s.return)&&e.call(s),0):s.next)&&!(e=e.call(s,n[1])).done)return e;switch(s=0,e&&(n=[n[0]&2,e.value]),n[0]){case 0:case 1:e=n;break;case 4:return t.label++,{value:n[1],done:!1};case 5:t.label++,s=n[1],n=[0];continue;case 7:n=t.ops.pop(),t.trys.pop();continue;default:if(e=t.trys,!(e=e.length>0&&e[e.length-1])&&(n[0]===6||n[0]===2)){t=0;continue}if(n[0]===3&&(!e||n[1]>e[0]&&n[1]<e[3])){t.label=n[1];break}if(n[0]===6&&t.label<e[1]){t.label=e[1],e=n;break}if(e&&t.label<e[2]){t.label=e[2],t.ops.push(n);break}e[2]&&t.ops.pop(),t.trys.pop();continue}n=r.call(o,t)}catch(l){n=[6,l],s=0}finally{i=e=0}if(n[0]&5)throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}};Object.defineProperty(m,"__esModule",{value:!0});var ee=W(),te=N(),Ee=K(),g=Y(),q=ue(),ce=le(),Me=ee.sdkVersion,Ie="Microsoft_Omnichannel_AMSClient_Iframe_Window",Se=function(){function o(r,t){r===void 0&&(r=void 0),t===void 0&&(t=void 0),this.clientId=ce.uuidv4(),this.origin=window.location.origin,this.requestCallbacks={},this.debug=!1,this.iframeLoaded=!1,this.logger=r,this.iframeId=Ie,t&&t.multiClient&&(this.iframeId=this.clientId)}return o.prototype.setDebug=function(r){this.debug=r},o.prototype.setup=function(){return b(this,void 0,void 0,function(){var r=this;return y(this,function(t){switch(t.label){case 0:if(this.debug&&console.log("[FramedClient][initialize]"),this.onMessageEvent(function(i){return r.handleEvent(i)}),!Ee.default.isBrowser())throw new Error("FramedMode was used in non-Web platform");return[4,this.loadIframe()];case 1:return t.sent(),this.iframeLoaded||!te.default.silentError&&console.error("iframe not loaded"),[2]}})})},o.prototype.initialize=function(r){return b(this,void 0,void 0,function(){return y(this,function(t){switch(t.label){case 0:return this.debug&&console.log("[FramedClient][initialize]"),this.chatToken=r.chatToken,[4,this.skypeTokenAuth()];case 1:return t.sent(),[2]}})})},o.prototype.skypeTokenAuth=function(r){return r===void 0&&(r=null),b(this,void 0,void 0,function(){var t,i=this;return y(this,function(s){switch(s.label){case 0:return this.debug&&console.log("[FramedClient][skypeAuth]"),t={chatToken:r||this.chatToken},[4,this.loadIframe()];case 1:return s.sent(),[2,new Promise(function(e,a){i.postMessage(q.default.Request,g.default.SkypeTokenAuth,t,e,a)})]}})})},o.prototype.createObject=function(r,t,i){return i===void 0&&(i=null),b(this,void 0,void 0,function(){var s,e=this;return y(this,function(a){switch(a.label){case 0:return this.debug&&console.log("[FramedClient][createObject]"),s={id:r,file:t,chatToken:i||this.chatToken},[4,this.loadIframe()];case 1:return a.sent(),[2,new Promise(function(u,c){e.postMessage(q.default.Request,g.default.CreateObject,s,u,c)})]}})})},o.prototype.uploadDocument=function(r,t,i){return i===void 0&&(i=null),b(this,void 0,void 0,function(){var s,e=this;return y(this,function(a){switch(a.label){case 0:return this.debug&&console.log("[FramedClient][uploadDocument]"),s={documentId:r,file:t,chatToken:i||this.chatToken},[4,this.loadIframe()];case 1:return a.sent(),[2,new Promise(function(u,c){e.postMessage(q.default.Request,g.default.UploadDocument,s,u,c)})]}})})},o.prototype.getViewStatus=function(r,t){return t===void 0&&(t=null),b(this,void 0,void 0,function(){var i,s=this;return y(this,function(e){switch(e.label){case 0:return i={fileMetadata:r,chatToken:t||this.chatToken},[4,this.loadIframe()];case 1:return e.sent(),[2,new Promise(function(a,u){s.postMessage(q.default.Request,g.default.GetViewStatus,i,a,u)})]}})})},o.prototype.getView=function(r,t,i){return i===void 0&&(i=null),b(this,void 0,void 0,function(){var s,e=this;return y(this,function(a){switch(a.label){case 0:return s={fileMetadata:r,viewLocation:t,chatToken:i||this.chatToken},[4,this.loadIframe()];case 1:return a.sent(),[2,new Promise(function(u,c){e.postMessage(q.default.Request,g.default.GetView,s,u,c)})]}})})},o.prototype.fetchBlob=function(r){return b(this,void 0,void 0,function(){var t,i,s;return y(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,fetch(r)];case 1:return t=e.sent(),[4,t.blob()];case 2:return i=e.sent(),[2,i];case 3:throw s=e.sent(),!te.default.silentError&&console.log(s),new Error("fetchBlob");case 4:return[2]}})})},o.prototype.onMessageEvent=function(r){window.addEventListener("message",r,!0)},o.prototype.postMessage=function(r,t,i,s,e){i===void 0&&(i={}),s===void 0&&(s=function(u){return{}}),e===void 0&&(e=function(u){return{}});var a=ce.uuidv4();if(this.requestCallbacks[a]={resolve:s,reject:e},!this.targetWindow){!te.default.silentError&&console.error("Target window not found!");return}this.targetWindow.postMessage(H({clientId:this.clientId,requestId:a,eventType:r,eventName:t},i),"*")},o.prototype.handleEvent=function(r){var t;return b(this,void 0,void 0,function(){var i;return y(this,function(s){return r.origin!==this.origin&&!ee.baseUrl.includes(r.origin)?[2]:r.data.clientId!==this.clientId?[2]:(this.debug&&console.log(r),r.source&&(this.targetWindow=r.source),r.data.eventType===q.default.Response&&(this.debug&&console.log("[FramedClient][Response]"),i=r.data,r.data.eventName===g.default.SkypeTokenAuth?i.requestId in this.requestCallbacks&&(this.requestCallbacks[i.requestId].resolve(),delete this.requestCallbacks[i.requestId]):r.data.eventName===g.default.CreateObject?i.requestId in this.requestCallbacks&&(this.requestCallbacks[i.requestId].resolve(i.response),delete this.requestCallbacks[i.requestId]):r.data.eventName===g.default.UploadDocument?i.requestId in this.requestCallbacks&&(this.requestCallbacks[i.requestId].resolve(i.response),delete this.requestCallbacks[i.requestId]):r.data.eventName===g.default.GetViewStatus?i.requestId in this.requestCallbacks&&(this.requestCallbacks[i.requestId].resolve(i.response),delete this.requestCallbacks[i.requestId]):r.data.eventName===g.default.GetView?i.requestId in this.requestCallbacks&&(this.requestCallbacks[i.requestId].resolve(i.response),delete this.requestCallbacks[i.requestId]):r.data.eventName===g.default.SendTelemetry&&((t=this.logger)===null||t===void 0||t.log(i.logLevel,i.logData.Event,i.logData))),[2])})})},o.prototype.dispose=function(){var r;(r=document.getElementById(this.iframeId))===null||r===void 0||r.remove(),this.requestCallbacks={},this.iframeLoaded=!1},o.prototype.loadIframe=function(){return b(this,void 0,void 0,function(){var r=this;return y(this,function(t){return[2,new Promise(function(i,s){var e=Array.from(document.getElementsByTagName("iframe")),a=e.filter(function(c){return c.id==r.iframeId});if(a.length)return i();var u=document.createElement("iframe");u.id=r.iframeId,u.src=ee.baseUrl+"/"+Me+"/iframe.html?clientId="+r.clientId+"&debug="+r.debug+"&telemetry=true",u.addEventListener("load",function(){r.debug&&console.log("iframe loaded!"),r.iframeLoaded=!0,i()}),u.addEventListener("error",function(){s()}),document.head.append(u)})]})})},o}();m.default=Se});var fe=f(_=>{"use strict";var A=_&&_.__assign||function(){return A=Object.assign||function(o){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(o[s]=r[s])}return o},A.apply(this,arguments)},j=_&&_.__awaiter||function(o,r,t,i){function s(e){return e instanceof t?e:new t(function(a){a(e)})}return new(t||(t=Promise))(function(e,a){function u(l){try{n(i.next(l))}catch(d){a(d)}}function c(l){try{n(i.throw(l))}catch(d){a(d)}}function n(l){l.done?e(l.value):s(l.value).then(u,c)}n((i=i.apply(o,r||[])).next())})},G=_&&_.__generator||function(o,r){var t={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},i,s,e,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(n){return function(l){return c([n,l])}}function c(n){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,s&&(e=n[0]&2?s.return:n[0]?s.throw||((e=s.return)&&e.call(s),0):s.next)&&!(e=e.call(s,n[1])).done)return e;switch(s=0,e&&(n=[n[0]&2,e.value]),n[0]){case 0:case 1:e=n;break;case 4:return t.label++,{value:n[1],done:!1};case 5:t.label++,s=n[1],n=[0];continue;case 7:n=t.ops.pop(),t.trys.pop();continue;default:if(e=t.trys,!(e=e.length>0&&e[e.length-1])&&(n[0]===6||n[0]===2)){t=0;continue}if(n[0]===3&&(!e||n[1]>e[0]&&n[1]<e[3])){t.label=n[1];break}if(n[0]===6&&t.label<e[1]){t.label=e[1],e=n;break}if(e&&t.label<e[2]){t.label=e[2],t.ops.push(n);break}e[2]&&t.ops.pop(),t.trys.pop();continue}n=r.call(o,t)}catch(l){n=[6,l],s=0}finally{i=e=0}if(n[0]&5)throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}};Object.defineProperty(_,"__esModule",{value:!0});var p=N(),v;(function(o){o.Accept="Accept",o.AcceptEncoding="Accept-Encoding",o.BehaviorOverride="BehaviorOverride",o.Authorization="Authorization",o.ClientVersion="X-MS-Client-Version",o.ContentType="Content-Type"})(v||(v={}));var k;(function(o){o.applicationFormUrlEncoded="application/x-www-form-urlencoded",o.applicationJson="application/json"})(k||(k={}));var B;(function(o){o.Expired="expired",o.Failed="failed",o.InProgress="in progress",o.Malware="malware",o.Ready="ready"})(B||(B={}));var de=["jpeg","jpg","gif","png","bmp","tiff","jfif"],F=function(o){o.regionGTMS||(o.regionGTMS={ams:"https://us-api.asm.skype.com"})},L=function(o){var r;return r={},r[v.Authorization]="skype_token "+o,r[v.ClientVersion]="os=Windows; osVer=10; proc=Win32; lcid=en-us; deviceType=1; country=IN; clientName=swc; clientVer=912/0.106.0.34//swc",r},qe=function(o){return j(void 0,void 0,void 0,function(){var r,t,i,s,e,a,u;return G(this,function(c){switch(c.label){case 0:p.default.debug&&console.log("[API][skypeTokenAuth]"),F(o),r=(o.amsEndpoint||((u=o.regionGTMS)===null||u===void 0?void 0:u.ams))+"/v1/skypetokenauth",t=(a={},a[v.Authorization]="skype_token "+o.token,a[v.Accept]=k.applicationJson,a[v.BehaviorOverride]="redirectAs404",a[v.ContentType]=k.applicationFormUrlEncoded,a),i={headers:t,method:"POST",body:"skypetoken="+o.token},c.label=1;case 1:return c.trys.push([1,3,,4]),[4,fetch(r,i)];case 2:return s=c.sent(),[2,s];case 3:throw e=c.sent(),!p.default.silentError&&console.log(e),new Error("AMSAuth");case 4:return[2]}})})},Ae=function(o,r,t){return j(void 0,void 0,void 0,function(){var i,s,e,a,u,c,n,l,d,w,U;return G(this,function(S){switch(S.label){case 0:p.default.debug&&console.log("[API][createObject]"),i=(d={},d[o]=["read"],d),s={filename:r.name,permissions:i,type:r.type.includes("image")?"pish/image":"sharing/file"},F(t),e=(t.amsEndpoint||((U=t==null?void 0:t.regionGTMS)===null||U===void 0?void 0:U.ams))+"/v1/objects",a=A(A({},L(t.token)),(w={},w[v.ContentType]=k.applicationJson,w)),u={headers:a,method:"POST",body:JSON.stringify(s),credentials:"include"},S.label=1;case 1:return S.trys.push([1,4,,5]),[4,fetch(e,u)];case 2:return c=S.sent(),[4,c.json()];case 3:return n=S.sent(),[2,n];case 4:throw l=S.sent(),!p.default.silentError&&console.log(l),new Error("AMSCreateObjectFailed");case 5:return[2]}})})},ke=function(o,r,t){return j(void 0,void 0,void 0,function(){var i,s,e,a,u,c,n;return G(this,function(l){switch(l.label){case 0:p.default.debug&&console.log("[API][uploadDocument]"),F(t),i=(t.amsEndpoint||((n=t==null?void 0:t.regionGTMS)===null||n===void 0?void 0:n.ams))+"/v1/objects/"+o+"/content/"+(r.type.includes("image")?"imgpsh":"original"),s=A(A({},L(t.token)),(c={},c[v.ContentType]=k.applicationFormUrlEncoded,c)),e={headers:s,method:"PUT",body:r.data?r.data:r},l.label=1;case 1:return l.trys.push([1,3,,4]),[4,fetch(i,e)];case 2:return l.sent(),a={name:r.name,size:r.size,type:r.type,id:o,url:i,fileSharingProtocolType:0},[2,a];case 3:throw u=l.sent(),!p.default.silentError&&console.log(u),new Error("AMSUploadDocumentFailed");case 4:return[2]}})})},Oe=function(o,r){return j(void 0,void 0,void 0,function(){var t,i,s,e,a,u,c,n,l,d;return G(this,function(w){switch(w.label){case 0:p.default.debug&&console.log("[API][getViewStatus]"),F(r),t=(r.amsEndpoint||((d=r==null?void 0:r.regionGTMS)===null||d===void 0?void 0:d.ams))+"/v1/objects/"+o.id+"/views/"+(de.includes(o.type)?"imgpsh_fullsize_anim":"original")+"/status",i=L(r.token),s={headers:i,method:"GET"},w.label=1;case 1:return w.trys.push([1,4,,5]),[4,fetch(t,s)];case 2:return e=w.sent(),[4,e.json()];case 3:if(a=w.sent(),u=a.content_state,c=a.view_state,n=a.view_location,!n)throw new Error("view_location is empty");if(c&&c!==B.Ready.toString()&&!p.default.silentError&&console.error("view_state is not ready"),u===B.Expired.toString())throw new Error("content_state is expired");return[2,a];case 4:throw l=w.sent(),!p.default.silentError&&console.log(l),new Error("AMSGetViewStatusFailed");case 5:return[2]}})})},Re=function(o,r,t){return j(void 0,void 0,void 0,function(){var i,s,e,a,u,c;return G(this,function(n){switch(n.label){case 0:p.default.debug&&console.log("[API][getView]"),F(t),i=r,s=L(t.token),de.includes(o.type)&&(s[v.Accept]="image/webp,image/ *,*/*;q=0.8",s[v.AcceptEncoding]="gzip, deflate, sdch, br"),e={headers:s,method:"GET"},n.label=1;case 1:return n.trys.push([1,4,,5]),[4,fetch(i,e)];case 2:return a=n.sent(),[4,a.blob()];case 3:return u=n.sent(),[2,u];case 4:throw c=n.sent(),!p.default.silentError&&console.log(c),new Error("AMSGetViewFailed");case 5:return[2]}})})};_.default={skypeTokenAuth:qe,createObject:Ae,uploadDocument:ke,getViewStatus:Oe,getView:Re}});var he=f(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});var ne;(function(o){o.INFO="INFO",o.DEBUG="DEBUG",o.WARN="WARN",o.ERROR="ERROR",o.LOG="LOG"})(ne||(ne={}));ie.default=ne});var se=f(M=>{"use strict";var C=M&&M.__awaiter||function(o,r,t,i){function s(e){return e instanceof t?e:new t(function(a){a(e)})}return new(t||(t=Promise))(function(e,a){function u(l){try{n(i.next(l))}catch(d){a(d)}}function c(l){try{n(i.throw(l))}catch(d){a(d)}}function n(l){l.done?e(l.value):s(l.value).then(u,c)}n((i=i.apply(o,r||[])).next())})},E=M&&M.__generator||function(o,r){var t={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},i,s,e,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(n){return function(l){return c([n,l])}}function c(n){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,s&&(e=n[0]&2?s.return:n[0]?s.throw||((e=s.return)&&e.call(s),0):s.next)&&!(e=e.call(s,n[1])).done)return e;switch(s=0,e&&(n=[n[0]&2,e.value]),n[0]){case 0:case 1:e=n;break;case 4:return t.label++,{value:n[1],done:!1};case 5:t.label++,s=n[1],n=[0];continue;case 7:n=t.ops.pop(),t.trys.pop();continue;default:if(e=t.trys,!(e=e.length>0&&e[e.length-1])&&(n[0]===6||n[0]===2)){t=0;continue}if(n[0]===3&&(!e||n[1]>e[0]&&n[1]<e[3])){t.label=n[1];break}if(n[0]===6&&t.label<e[1]){t.label=e[1],e=n;break}if(e&&t.label<e[2]){t.label=e[2],t.ops.push(n);break}e[2]&&t.ops.pop(),t.trys.pop();continue}n=r.call(o,t)}catch(l){n=[6,l],s=0}finally{i=e=0}if(n[0]&5)throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}};Object.defineProperty(M,"__esModule",{value:!0});var D=fe(),O=he(),R=Y(),Ve=K(),V=W(),xe=function(){function o(r){r===void 0&&(r=void 0),this.debug=!1,this.logger=r,Ve.default.isBrowser()&&console.error("FramedMode should be used on Web platform")}return o.prototype.setDebug=function(r){this.debug=r},o.prototype.setup=function(){return C(this,void 0,void 0,function(){return E(this,function(r){return[2,Promise.resolve()]})})},o.prototype.initialize=function(r){return C(this,void 0,void 0,function(){return E(this,function(t){switch(t.label){case 0:return this.debug&&console.log("[FramedlessClient][initialize]"),this.chatToken=r.chatToken,[4,this.skypeTokenAuth()];case 1:return t.sent(),[2]}})})},o.prototype.skypeTokenAuth=function(r){var t,i,s;return r===void 0&&(r=null),C(this,void 0,void 0,function(){var e,a;return E(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,D.default.skypeTokenAuth(r||this.chatToken)];case 1:return e=u.sent(),e.ok||(t=this.logger)===null||t===void 0||t.log(O.default.ERROR,R.default.SkypeTokenAuth,{ChatId:r?r.chatId:(i=this.chatToken)===null||i===void 0?void 0:i.chatId,AMSClientVersion:V.sdkVersion,ExceptionDetails:{status:e.status}}),[2,e];case 2:throw a=u.sent(),(s=this.logger)===null||s===void 0||s.log(O.default.ERROR,R.default.SkypeTokenAuth,{ChatId:r?r.chatId:this.chatToken.chatId,AMSClientVersion:V.sdkVersion,ExceptionDetails:a}),new Error("skypeTokenAuth");case 3:return[2]}})})},o.prototype.createObject=function(r,t,i){var s;return i===void 0&&(i=null),C(this,void 0,void 0,function(){var e,a;return E(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,D.default.createObject(r,t,i||this.chatToken)];case 1:return e=u.sent(),[2,e];case 2:throw a=u.sent(),(s=this.logger)===null||s===void 0||s.log(O.default.ERROR,R.default.CreateObject,{ChatId:i?i.chatId:this.chatToken.chatId,AMSClientVersion:V.sdkVersion,ExceptionDetails:a}),new Error("createObject");case 3:return[2]}})})},o.prototype.uploadDocument=function(r,t,i){var s;return i===void 0&&(i=null),C(this,void 0,void 0,function(){var e,a;return E(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,D.default.uploadDocument(r,t,i||this.chatToken)];case 1:return e=u.sent(),[2,e];case 2:throw a=u.sent(),(s=this.logger)===null||s===void 0||s.log(O.default.ERROR,R.default.UploadDocument,{ChatId:i?i.chatId:this.chatToken.chatId,AMSClientVersion:V.sdkVersion,ExceptionDetails:a}),new Error("uploadDocument");case 3:return[2]}})})},o.prototype.getViewStatus=function(r,t){var i;return t===void 0&&(t=null),C(this,void 0,void 0,function(){var s,e;return E(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,D.default.getViewStatus(r,t||this.chatToken)];case 1:return s=a.sent(),[2,s];case 2:throw e=a.sent(),(i=this.logger)===null||i===void 0||i.log(O.default.ERROR,R.default.GetViewStatus,{ChatId:t?t.chatId:this.chatToken.chatId,AMSClientVersion:V.sdkVersion,ExceptionDetails:e}),new Error("getViewStatus");case 3:return[2]}})})},o.prototype.getView=function(r,t,i){var s;return i===void 0&&(i=null),C(this,void 0,void 0,function(){var e,a;return E(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,D.default.getView(r,t,i||this.chatToken)];case 1:return e=u.sent(),[2,e];case 2:throw a=u.sent(),(s=this.logger)===null||s===void 0||s.log(O.default.ERROR,R.default.GetView,{ChatId:i?i.chatId:this.chatToken.chatId,AMSClientVersion:V.sdkVersion,ExceptionDetails:a}),new Error("getView");case 3:return[2]}})})},o.prototype.fetchBlob=function(r){return C(this,void 0,void 0,function(){var t,i,s;return E(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,fetch(r)];case 1:return t=e.sent(),[4,t.blob()];case 2:return i=e.sent(),[2,i];case 3:throw s=e.sent(),console.log(s),new Error("fetchBlob");case 4:return[2]}})})},o}();M.default=xe});var ge=f(I=>{"use strict";var je=I&&I.__awaiter||function(o,r,t,i){function s(e){return e instanceof t?e:new t(function(a){a(e)})}return new(t||(t=Promise))(function(e,a){function u(l){try{n(i.next(l))}catch(d){a(d)}}function c(l){try{n(i.throw(l))}catch(d){a(d)}}function n(l){l.done?e(l.value):s(l.value).then(u,c)}n((i=i.apply(o,r||[])).next())})},Ge=I&&I.__generator||function(o,r){var t={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},i,s,e,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(n){return function(l){return c([n,l])}}function c(n){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,s&&(e=n[0]&2?s.return:n[0]?s.throw||((e=s.return)&&e.call(s),0):s.next)&&!(e=e.call(s,n[1])).done)return e;switch(s=0,e&&(n=[n[0]&2,e.value]),n[0]){case 0:case 1:e=n;break;case 4:return t.label++,{value:n[1],done:!1};case 5:t.label++,s=n[1],n=[0];continue;case 7:n=t.ops.pop(),t.trys.pop();continue;default:if(e=t.trys,!(e=e.length>0&&e[e.length-1])&&(n[0]===6||n[0]===2)){t=0;continue}if(n[0]===3&&(!e||n[1]>e[0]&&n[1]<e[3])){t.label=n[1];break}if(n[0]===6&&t.label<e[1]){t.label=e[1],e=n;break}if(e&&t.label<e[2]){t.label=e[2],t.ops.push(n);break}e[2]&&t.ops.pop(),t.trys.pop();continue}n=r.call(o,t)}catch(l){n=[6,l],s=0}finally{i=e=0}if(n[0]&5)throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}};Object.defineProperty(I,"__esModule",{value:!0});var Fe=ae(),De=re(),Pe=se(),ve=N(),Ne=function(o){return je(void 0,void 0,void 0,function(){var r,t,i;return Ge(this,function(s){switch(s.label){case 0:return o.debug&&console.log("[createAMSClient] "+(o.framedMode?"FramedClient":"FramedlessClient")),r=new Fe.default(o.logger),t={multiClient:o.multiClient||!1},i=o.framedMode?new De.default(r,t):new Pe.default(r),[4,i.setup()];case 1:return s.sent(),o.debug&&i.setDebug(o.debug||!1),ve.default.debug=o.debug||!1,ve.default.silentError=o.silentError||!0,[2,i]}})})};I.default=Ne});var Le=f(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});var pe=ge(),Te=se(),Be=re();oe.default=pe.default;(function(){if(typeof window===void 0)throw new Error("window object not found");"Microsoft"in window||(window.Microsoft={}),"CRM"in window.Microsoft||(window.Microsoft.CRM={}),"Omnichannel"in window.Microsoft.CRM||(window.Microsoft.CRM.Omnichannel={}),"AMSClient"in window.Microsoft.CRM.Omnichannel||(window.Microsoft.CRM.Omnichannel.AMS={SDK:{createAMSClient:pe.default,FramedClient:Be.default,FramedlessClient:Te.default}})})()});Le();})();
